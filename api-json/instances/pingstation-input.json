{
  "name" : "pingstation-input",
  "description" : "Input engine settings for ping station example",
  "outputs" : ["echo-response", "unreachable-response","fallback-response"],
  "perTaskRam":256,
  "jvmOptions":{"-Xmx": "32m", "-XX:MaxDirectMemorySize=": "4m", "-XX:MaxMetaspaceSize=": "96m" },
  "checkpointMode" : "every-nth",
  "checkpointInterval" : 10,
  "options" : {
    "lineSeparator": "\n",
    "policy": "first-match-win",
    "rules": [
      {
        "regex": "^\\[(?<timestamp>\\d+)\\.\\d*\\]\\s*(?<ip>[\\d|\\.]+).*\\s(?<latency>[\\d|\\.]+)\\sms.*",
        "fields": [
          {
            "name": "timestamp",
            "defaultValue": "0",
            "type": "scalar"
          },
          {
            "name": "ip",
            "defaultValue": "0.0.0.0",
            "type": "scalar"
          },
          {
            "name": "latency",
            "defaultValue": "0",
            "type": "scalar"
          }
        ],
        "outputStream": "echo-response",
        "uniqueKey": [
          "ip",
          "timestamp"
        ],
        "distribution": [
          "ip"
        ]
      },
      {
        "regex": "^ICMP.*\\s(?<ip>[\\d|\\.]+).*\\s(?<timestamp>\\d+)$",
        "fields": [
          {
            "name": "ip",
            "defaultValue": "0.0.0.0",
            "type": "scalar"
          },
          {
            "name": "timestamp",
            "defaultValue": "0",
            "type": "scalar"
          }
        ],
        "outputStream": "unreachable-response",
        "uniqueKey": [
          "ip",
          "timestamp"
        ],
        "distribution": [
          "ip"
        ]
      }
    ],
    "encoding": "UTF-8",
    "fallbackStream": "fallback-response"
  },
  "coordinationService" : "zookeeper-ps-service",
  "lookupHistory" : 100,
  "queueMaxSize":500
}